<!DOCTYPE html>
<html> lang="en">

<head>
    <meta charset="UTF-8">
    <title>Bank Home Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>

</head>

<body>

    <div class="navbar-fixed">
        <nav>
            <div class="nav-wrapper grey accent-7">
                <img src="../images/Asset 1ldpi.png" alt="virtuabank logo" class="text-center" id="logo">
                <img/>
                <a class="header" id="userName">| Welcome User</a>
                <ul id="nav-mobile" class="right hide-on-med-and-down">
                    <li>
                        <a id="acct" href=>Accounts</a>
                    </li>
                    <li>
                        <a href=>Loans</a>
                    </li>
                    <li>
                        <a href="/login">Log Out</a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>

    <div class="parallax-container bgimg1">
        <div class="parallax">
            <img src="https://wallpaperlayer.com/img/2015/10/sunshine-wallpaper-7486-7775-hd-wallpapers.jpg">
        </div>
    </div>


    <div class="section green accent-8">
        <div class="container">
            <div class="col s12 white-text">
                <table>
                    <tr>
                        <th>Account</th>
                        <th>Balance</th>
                        <th>Deposit</th>
                        <th>Withdraw</th>
                    </tr>
                    <tr>
                        <td>Checking</td>
                        <td>$2200</td>
                        <td>
                            <input type="number" name="number" id="depositChecking" class="form-control" autocomplete="off">
                        </td>
                        <td>
                            <input type="number" name="number" id="withdrawChecking" class="form-control" autocomplete="off">
                        </td>
                    </tr>
                    <tr>
                        <td>Savings</td>
                        <td>$1000</td>
                        <td>
                            <input type="number" name="number" id="depositSavings" class="form-control" autocomplete="off">
                        </td>
                        <td>
                            <input type="number" name="number" id="withdrawSavings" class="form-control" autocomplete="off">
                        </td>
                    </tr>
                </table>
                <br>
            
                <div>
                    <button type="button" class="waves-effect waves-light btn grey accent-2 glyphicon-glyphicon-usd btn modal-trigger" data-toggle="modal" data-target=".loan-modal">$ Apply For Loan</button>

                </div>
                <div class="modal fade loan-modal" tabindex="-1" role="dialog" aria-labelledby="myLoanModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-sm">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">Ã—</span>
                                    <span class="sr-only">Close</span>
                                </button>
                                <h4 class="modal-title" style="color:black">Apply for Loan</h4>
                            </div>
                            <div class="modal-body">
                                <p>Name:</p>
                                <input type="name" name="name" id="customer-name" class="form-control" autocomplete="off">
                                <p>Email:</p>
                                <input type="email" name="signup-email" id="signup-email" class="form-control" autocomplete="off">
                                <p>Phone Number:</p>
                                <input type="number" name="phone-number" id="phone-number" class="form-control" autocomplete="off">
                                <p>Address:</p>
                                <input type="address" name="address" id="address" class="form-control" autocomplete="off">
                                <p>Login ID:</p>
                                <input type="id" name="id" id="login-id" class="form-control" autocomplete="off">
                                <p>Enter Password:</p>
                                <input type="password" name="newpw" id="newpw" class="form-control" autocomplete="off">
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-custom" style="color:black">Submit</button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="parallax-container bgimg2">
        <div class="parallax">
            <img src="http://www.hd-wallpapersdownload.com/script/new-wallpaper/wonderful-sunshine-nature-wallpaper-in-hd.jpg">
        </div>
    </div>

    <footer class="page-footer green accent-8">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h5 class="white-text">Bank Statements</h5>
                    <p class="grey-text text-lighten-4">View Statements here.</p>
                </div>
                <div class="col l4 offset-l2 s12">
                    <h5 class="white-text">Links</h5>
                    <ul>
                        <li>
                            <a class="grey-text text-lighten-3" href="/accounts">Accounts</a>
                        </li>
                        <li>
                            <a class="grey-text text-lighten-3" href="/api/customers">Contact Information</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright grey accent-8">
            <div class="container center">
                <img src="../images/Asset 1ldpi.png" alt="virtuabank logo" class="text-center">
                <img/>
            </div>
        </div>
    </footer>

    <script>
        $(document).ready(function () {
            $('.parallax').parallax();

            $('.loan-modal').modal();
    


             $("#acct").on("click", function (event) {

                event.preventDefault();

                var registeredCustomer = {
                    customer_no:  window.localStorage.getItem("customer")
                }
                console.log("REG CUSTOMER: " + registeredCustomer)
                $.post("/registeredCustomer", registeredCustomer)
                    // on success, run this callback
                    .then(function (data) {
                        console.log(data);
                        if (data) {
                            window.localStorage.setItem("customer", data.id);
                            window.localStorage.setItem("customer_name", data.customer_name);
                            window.location.href = "/dashboard";
                        }

                    })

             });




        var myname = window.localStorage.getItem("customer_name");
        $('#userName').html("WELCOME "+ myname)

        });


    </script>

    <style>
        body {
            background: rgba(187, 134, 134, 0.219);
        }

        h2 {
            color: white;
        }

        div.nav-wrapper.grey.accent-8 {
            background: #4caf5087;
        }

        .bgimg1,
        .bgimg2 {
            position: relative;
            opacity: 0.45;
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }

        .header {
            margin-left: 10px;
        }

        #logo {
            height: 50px;
            width: auto;
        }

        .parallax-container {
            height: 300px;
        }

        .page-footer {
            padding-top: 20px;
            color: #fff;
            background-color: #9cbf84;
        }

        .green {
            background-color: #2e5822 !important;
        }

        .grey {
            background-color: rgb(30, 68, 26) !important;
        }
    </style>
    
 </body>

</html>